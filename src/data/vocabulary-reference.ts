import { VocabularyWord } from '@/types';

export const referenceVocabulary: VocabularyWord[] = [
  // CZAS (Time)
  { id: 'time_001', polish: 'sekunda', english: 'second', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_002', polish: 'minuta', english: 'minute', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_003', polish: 'godzina', english: 'hour', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_004', polish: 'dzień', english: 'day', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_005', polish: 'tydzień', english: 'week', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_006', polish: 'miesiąc', english: 'month', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_007', polish: 'rok', english: 'year', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_008', polish: 'rano', english: 'morning', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_009', polish: 'południe', english: 'noon', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_010', polish: 'popołudnie', english: 'afternoon', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_011', polish: 'wieczór', english: 'evening', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_012', polish: 'noc', english: 'night', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_013', polish: 'północ', english: 'midnight', category: 'reference', subcategory: 'time', difficulty: 'intermediate' },
  { id: 'time_014', polish: 'wczoraj', english: 'yesterday', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_015', polish: 'dziś', english: 'today', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_016', polish: 'jutro', english: 'tomorrow', category: 'reference', subcategory: 'time', difficulty: 'beginner' },

  // KALENDARZ (Calendar)
  { id: 'calendar_001', polish: 'poniedziałek', english: 'Monday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_002', polish: 'wtorek', english: 'Tuesday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_003', polish: 'środa', english: 'Wednesday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_004', polish: 'czwartek', english: 'Thursday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_005', polish: 'piątek', english: 'Friday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_006', polish: 'sobota', english: 'Saturday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_007', polish: 'niedziela', english: 'Sunday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_008', polish: 'styczeń', english: 'January', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_009', polish: 'luty', english: 'February', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_010', polish: 'marzec', english: 'March', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_011', polish: 'kwiecień', english: 'April', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_012', polish: 'maj', english: 'May', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_013', polish: 'czerwiec', english: 'June', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_014', polish: 'lipiec', english: 'July', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_015', polish: 'sierpień', english: 'August', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_016', polish: 'wrzesień', english: 'September', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_017', polish: 'październik', english: 'October', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_018', polish: 'listopad', english: 'November', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_019', polish: 'grudzień', english: 'December', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },

  // LICZBY (Numbers)
  { id: 'numbers_001', polish: 'zero', english: 'zero', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_002', polish: 'jeden', english: 'one', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_003', polish: 'dwa', english: 'two', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_004', polish: 'trzy', english: 'three', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_005', polish: 'cztery', english: 'four', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_006', polish: 'pięć', english: 'five', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_007', polish: 'sześć', english: 'six', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_008', polish: 'siedem', english: 'seven', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_009', polish: 'osiem', english: 'eight', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_010', polish: 'dziewięć', english: 'nine', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_011', polish: 'dziesięć', english: 'ten', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_012', polish: 'dwadzieścia', english: 'twenty', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_013', polish: 'trzydzieści', english: 'thirty', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },
  { id: 'numbers_014', polish: 'sto', english: 'hundred', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_015', polish: 'tysiąc', english: 'thousand', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },
  { id: 'numbers_016', polish: 'milion', english: 'million', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },

  // KOLORY (Colors)
  { id: 'colors_001', polish: 'kolor', english: 'color', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_002', polish: 'czerwony', english: 'red', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_003', polish: 'niebieski', english: 'blue', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_004', polish: 'żółty', english: 'yellow', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_005', polish: 'zielony', english: 'green', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_006', polish: 'pomarańczowy', english: 'orange', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_007', polish: 'fioletowy', english: 'purple', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_008', polish: 'różowy', english: 'pink', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_009', polish: 'brązowy', english: 'brown', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_010', polish: 'czarny', english: 'black', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_011', polish: 'biały', english: 'white', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_012', polish: 'szary', english: 'gray', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },

  // PRZYDATNE ZWROTY (Useful Phrases)
  { id: 'phrases_001', polish: 'dziękuję', english: 'thank you', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_002', polish: 'proszę', english: 'please', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_003', polish: 'przepraszam', english: 'excuse me', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_004', polish: 'tak', english: 'yes', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_005', polish: 'nie', english: 'no', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_006', polish: 'dzień dobry', english: 'good morning', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_007', polish: 'dobry wieczór', english: 'good evening', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_008', polish: 'dobranoc', english: 'good night', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_009', polish: 'do widzenia', english: 'goodbye', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_010', polish: 'cześć', english: 'hi', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_011', polish: 'jak się masz', english: 'how are you', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_012', polish: 'ile to kosztuje', english: 'how much is this', category: 'reference', subcategory: 'phrases', difficulty: 'intermediate' },
];

export async function seedReferenceVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing reference vocabulary IDs
    const existingReference = await db.vocabulary.where('category').equals('reference').toArray();
    const existingIds = new Set(existingReference.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = referenceVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new reference words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('reference').count();
    await db.categories.update('reference', { totalWords: totalCount });
    console.log(`✅ Reference vocabulary: ${totalCount} total words (${referenceVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingReference = await db.vocabulary.where('category').equals('reference').toArray();
      const existingIds = new Set(existingReference.map(w => w.id));
      const newWords = referenceVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining reference words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('reference').count();
      await db.categories.update('reference', { totalWords: totalCount });
      console.log(`✅ Reference vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding reference vocabulary:', error);
    return false;
  }
}
