import { VocabularyWord } from '@/types';

export const foodVocabulary: VocabularyWord[] = [
  // MIĘSO (Carne)
  { id: 'meat_001', polish: 'boczek', spanish: 'tocino', category: 'food', subcategory: 'meat', difficulty: 'beginner' },
  { id: 'meat_002', polish: 'kiełbasa', spanish: 'salchicha', category: 'food', subcategory: 'meat', difficulty: 'beginner' },
  { id: 'meat_003', polish: 'wątróbka', spanish: 'hígado', category: 'food', subcategory: 'meat', difficulty: 'intermediate' },
  { id: 'meat_004', polish: 'szynka', spanish: 'jamón', category: 'food', subcategory: 'meat', difficulty: 'beginner' },
  { id: 'meat_005', polish: 'kurczak', spanish: 'pollo', category: 'food', subcategory: 'meat', difficulty: 'beginner' },
  { id: 'meat_006', polish: 'kaczka', spanish: 'pato', category: 'food', subcategory: 'meat', difficulty: 'intermediate' },
  { id: 'meat_007', polish: 'gęś', spanish: 'ganso', category: 'food', subcategory: 'meat', difficulty: 'intermediate' },
  { id: 'meat_008', polish: 'indyk', spanish: 'pavo', category: 'food', subcategory: 'meat', difficulty: 'intermediate' },
  { id: 'meat_009', polish: 'wołowina', spanish: 'carne de res', category: 'food', subcategory: 'meat', difficulty: 'intermediate' },
  { id: 'meat_010', polish: 'wieprzowina', spanish: 'cerdo', category: 'food', subcategory: 'meat', difficulty: 'intermediate' },
  { id: 'meat_011', polish: 'jagnięcina', spanish: 'cordero', category: 'food', subcategory: 'meat', difficulty: 'intermediate' },
  { id: 'meat_012', polish: 'cielęcina', spanish: 'ternera', category: 'food', subcategory: 'meat', difficulty: 'advanced' },

  // WARZYWA (Verduras)
  { id: 'veg_002', polish: 'ogórek', spanish: 'pepino', category: 'food', subcategory: 'vegetables', difficulty: 'beginner' },
  { id: 'veg_003', polish: 'sałata', spanish: 'lechuga', category: 'food', subcategory: 'vegetables', difficulty: 'beginner' },
  { id: 'veg_004', polish: 'brokuł', spanish: 'brócoli', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_005', polish: 'kalafior', spanish: 'coliflor', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_006', polish: 'kapusta', spanish: 'repollo', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_007', polish: 'szpinak', spanish: 'espinaca', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_008', polish: 'marchew', spanish: 'zanahoria', category: 'food', subcategory: 'vegetables', difficulty: 'beginner' },
  { id: 'veg_009', polish: 'ziemniak', spanish: 'patata', category: 'food', subcategory: 'vegetables', difficulty: 'beginner' },
  { id: 'veg_010', polish: 'cebula', spanish: 'cebolla', category: 'food', subcategory: 'vegetables', difficulty: 'beginner' },
  { id: 'veg_011', polish: 'czosnek', spanish: 'ajo', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_012', polish: 'papryka', spanish: 'pimiento', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_013', polish: 'dynia', spanish: 'calabaza', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_014', polish: 'cukinia', spanish: 'calabacín', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_015', polish: 'bakłażan', spanish: 'berenjena', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_016', polish: 'kukurydza', spanish: 'maíz', category: 'food', subcategory: 'vegetables', difficulty: 'beginner' },
  { id: 'veg_017', polish: 'groszek', spanish: 'guisante', category: 'food', subcategory: 'vegetables', difficulty: 'beginner' },
  { id: 'veg_018', polish: 'fasola', spanish: 'judía', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },
  { id: 'veg_019', polish: 'szparagi', spanish: 'espárrago', category: 'food', subcategory: 'vegetables', difficulty: 'advanced' },
  { id: 'veg_020', polish: 'pieczarka', spanish: 'champiñón', category: 'food', subcategory: 'vegetables', difficulty: 'intermediate' },

  // OWOCE (Frutas)
  { id: 'fruit_000', polish: 'pomidor', spanish: 'tomate', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },
  { id: 'fruit_001', polish: 'jabłko', spanish: 'manzana', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },
  { id: 'fruit_002', polish: 'gruszka', spanish: 'pera', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },
  { id: 'fruit_003', polish: 'pomarańcza', spanish: 'naranja', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },
  { id: 'fruit_004', polish: 'cytryna', spanish: 'limón', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },
  { id: 'fruit_005', polish: 'limonka', spanish: 'lima', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_006', polish: 'brzoskwinia', spanish: 'melocotón', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_007', polish: 'morela', spanish: 'albaricoque', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_008', polish: 'śliwka', spanish: 'ciruela', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_009', polish: 'wiśnia', spanish: 'cereza', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_010', polish: 'truskawka', spanish: 'fresa', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },
  { id: 'fruit_011', polish: 'malina', spanish: 'frambuesa', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_012', polish: 'jeżyna', spanish: 'mora', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_013', polish: 'borówka', spanish: 'arándano', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_014', polish: 'banan', spanish: 'plátano', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },
  { id: 'fruit_015', polish: 'arbuz', spanish: 'sandía', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_016', polish: 'melon', spanish: 'melón', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_017', polish: 'winogrono', spanish: 'uva', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_018', polish: 'ananas', spanish: 'piña', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_019', polish: 'mango', spanish: 'mango', category: 'food', subcategory: 'fruits', difficulty: 'intermediate' },
  { id: 'fruit_020', polish: 'kiwi', spanish: 'kiwi', category: 'food', subcategory: 'fruits', difficulty: 'beginner' },

  // PIECZYWO (Pan)
  { id: 'bread_001', polish: 'chleb', spanish: 'pan', category: 'food', subcategory: 'bread', difficulty: 'beginner' },
  { id: 'bread_002', polish: 'bułka', spanish: 'bollo', category: 'food', subcategory: 'bread', difficulty: 'beginner' },
  { id: 'bread_003', polish: 'bagietka', spanish: 'baguette', category: 'food', subcategory: 'bread', difficulty: 'intermediate' },
  { id: 'bread_004', polish: 'kromka', spanish: 'rebanada', category: 'food', subcategory: 'bread', difficulty: 'beginner' },
  { id: 'bread_005', polish: 'skórka', spanish: 'corteza', category: 'food', subcategory: 'bread', difficulty: 'intermediate' },
  { id: 'bread_006', polish: 'miękisz', spanish: 'miga', category: 'food', subcategory: 'bread', difficulty: 'advanced' },
  { id: 'bread_007', polish: 'mąka', spanish: 'harina', category: 'food', subcategory: 'bread', difficulty: 'intermediate' },
  { id: 'bread_008', polish: 'drożdże', spanish: 'levadura', category: 'food', subcategory: 'bread', difficulty: 'advanced' },
];

export async function seedFoodVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing food vocabulary IDs
    const existingFood = await db.vocabulary.where('category').equals('food').toArray();
    const existingIds = new Set(existingFood.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = foodVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new food words`);
    }
    
    // Update total word count
    const totalCount = await db.vocabulary.where('category').equals('food').count();
    await db.categories.update('food', { totalWords: totalCount });
    console.log(`✅ Food vocabulary: ${totalCount} total words (${foodVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingFood = await db.vocabulary.where('category').equals('food').toArray();
      const existingIds = new Set(existingFood.map(w => w.id));
      const newWords = foodVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
          const totalCount = await db.vocabulary.where('category').equals('food').count();
          await db.categories.update('food', { totalWords: totalCount });
          console.log(`✅ Added ${newWords.length} new food words. Total: ${totalCount}`);
        } catch (e) {
          console.error('Error adding remaining food words:', e);
        }
      }
      return true;
    }
    console.error('Error seeding food vocabulary:', error);
    return false;
  }
}
