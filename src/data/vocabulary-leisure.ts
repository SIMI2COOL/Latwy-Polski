import { VocabularyWord } from '@/types';

export const leisureVocabulary: VocabularyWord[] = [
  // TEATR (Theater)
  { id: 'theater_001', polish: 'teatr', english: 'theater', category: 'leisure', subcategory: 'theater', difficulty: 'beginner' },
  { id: 'theater_002', polish: 'scena', english: 'stage', category: 'leisure', subcategory: 'theater', difficulty: 'intermediate' },
  { id: 'theater_003', polish: 'kurtyna', english: 'curtain', category: 'leisure', subcategory: 'theater', difficulty: 'intermediate' },
  { id: 'theater_004', polish: 'aktor', english: 'actor', category: 'leisure', subcategory: 'theater', difficulty: 'beginner' },
  { id: 'theater_005', polish: 'aktorka', english: 'actress', category: 'leisure', subcategory: 'theater', difficulty: 'beginner' },
  { id: 'theater_006', polish: 'sztuka', english: 'play', category: 'leisure', subcategory: 'theater', difficulty: 'intermediate' },
  { id: 'theater_007', polish: 'przedstawienie', english: 'performance', category: 'leisure', subcategory: 'theater', difficulty: 'intermediate' },
  { id: 'theater_008', polish: 'bilet', english: 'ticket', category: 'leisure', subcategory: 'theater', difficulty: 'beginner' },
  { id: 'theater_009', polish: 'miejsce', english: 'seat', category: 'leisure', subcategory: 'theater', difficulty: 'beginner' },
  { id: 'theater_010', polish: 'widownia', english: 'audience', category: 'leisure', subcategory: 'theater', difficulty: 'intermediate' },
  { id: 'theater_011', polish: 'oklaski', english: 'applause', category: 'leisure', subcategory: 'theater', difficulty: 'intermediate' },
  { id: 'theater_012', polish: 'przerwa', english: 'intermission', category: 'leisure', subcategory: 'theater', difficulty: 'intermediate' },

  // KINO (Cinema)
  { id: 'cinema_001', polish: 'kino', english: 'cinema', category: 'leisure', subcategory: 'cinema', difficulty: 'beginner' },
  { id: 'cinema_002', polish: 'film', english: 'movie', category: 'leisure', subcategory: 'cinema', difficulty: 'beginner' },
  { id: 'cinema_003', polish: 'ekran', english: 'screen', category: 'leisure', subcategory: 'cinema', difficulty: 'beginner' },
  { id: 'cinema_004', polish: 'popcorn', english: 'popcorn', category: 'leisure', subcategory: 'cinema', difficulty: 'beginner' },
  { id: 'cinema_005', polish: 'napój', english: 'drink', category: 'leisure', subcategory: 'cinema', difficulty: 'beginner' },
  { id: 'cinema_006', polish: 'komedia', english: 'comedy', category: 'leisure', subcategory: 'cinema', difficulty: 'intermediate' },
  { id: 'cinema_007', polish: 'dramat', english: 'drama', category: 'leisure', subcategory: 'cinema', difficulty: 'intermediate' },
  { id: 'cinema_008', polish: 'horror', english: 'horror', category: 'leisure', subcategory: 'cinema', difficulty: 'beginner' },
  { id: 'cinema_009', polish: 'science fiction', english: 'science fiction', category: 'leisure', subcategory: 'cinema', difficulty: 'intermediate' },
  { id: 'cinema_010', polish: 'animacja', english: 'animation', category: 'leisure', subcategory: 'cinema', difficulty: 'intermediate' },

  // MUZYKA (Music)
  { id: 'music_001', polish: 'muzyka', english: 'music', category: 'leisure', subcategory: 'music', difficulty: 'beginner' },
  { id: 'music_002', polish: 'koncert', english: 'concert', category: 'leisure', subcategory: 'music', difficulty: 'beginner' },
  { id: 'music_003', polish: 'orkiestra', english: 'orchestra', category: 'leisure', subcategory: 'music', difficulty: 'intermediate' },
  { id: 'music_004', polish: 'dyrygent', english: 'conductor', category: 'leisure', subcategory: 'music', difficulty: 'advanced' },
  { id: 'music_005', polish: 'muzyk', english: 'musician', category: 'leisure', subcategory: 'music', difficulty: 'beginner' },
  { id: 'music_006', polish: 'piosenkarz', english: 'singer', category: 'leisure', subcategory: 'music', difficulty: 'beginner' },
  { id: 'music_007', polish: 'gitara', english: 'guitar', category: 'leisure', subcategory: 'music', difficulty: 'beginner' },
  { id: 'music_008', polish: 'pianino', english: 'piano', category: 'leisure', subcategory: 'music', difficulty: 'beginner' },
  { id: 'music_009', polish: 'skrzypce', english: 'violin', category: 'leisure', subcategory: 'music', difficulty: 'intermediate' },
  { id: 'music_010', polish: 'perkusja', english: 'drums', category: 'leisure', subcategory: 'music', difficulty: 'intermediate' },
  { id: 'music_011', polish: 'trąbka', english: 'trumpet', category: 'leisure', subcategory: 'music', difficulty: 'intermediate' },
  { id: 'music_012', polish: 'flet', english: 'flute', category: 'leisure', subcategory: 'music', difficulty: 'intermediate' },

  // PLAŻA (Beach)
  { id: 'beach_001', polish: 'plaża', english: 'beach', category: 'leisure', subcategory: 'beach', difficulty: 'beginner' },
  { id: 'beach_002', polish: 'piasek', english: 'sand', category: 'leisure', subcategory: 'beach', difficulty: 'beginner' },
  { id: 'beach_003', polish: 'morze', english: 'sea', category: 'leisure', subcategory: 'beach', difficulty: 'beginner' },
  { id: 'beach_004', polish: 'fala', english: 'wave', category: 'leisure', subcategory: 'beach', difficulty: 'beginner' },
  { id: 'beach_005', polish: 'leżak', english: 'deck chair', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },
  { id: 'beach_006', polish: 'parasol plażowy', english: 'beach umbrella', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },
  { id: 'beach_007', polish: 'ręcznik plażowy', english: 'beach towel', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },
  { id: 'beach_008', polish: 'kostium kąpielowy', english: 'swimsuit', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },
  { id: 'beach_009', polish: 'krem do opalania', english: 'sunscreen', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },
  { id: 'beach_010', polish: 'zamek z piasku', english: 'sandcastle', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },
  { id: 'beach_011', polish: 'ratownik', english: 'lifeguard', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },
  { id: 'beach_012', polish: 'koło ratunkowe', english: 'life ring', category: 'leisure', subcategory: 'beach', difficulty: 'intermediate' },

  // KEMPING (Camping)
  { id: 'camping_001', polish: 'kemping', english: 'camping', category: 'leisure', subcategory: 'camping', difficulty: 'beginner' },
  { id: 'camping_002', polish: 'namiot', english: 'tent', category: 'leisure', subcategory: 'camping', difficulty: 'beginner' },
  { id: 'camping_003', polish: 'śpiwór', english: 'sleeping bag', category: 'leisure', subcategory: 'camping', difficulty: 'intermediate' },
  { id: 'camping_004', polish: 'plecak', english: 'backpack', category: 'leisure', subcategory: 'camping', difficulty: 'beginner' },
  { id: 'camping_005', polish: 'ognisko', english: 'campfire', category: 'leisure', subcategory: 'camping', difficulty: 'intermediate' },
  { id: 'camping_006', polish: 'latarka', english: 'flashlight', category: 'leisure', subcategory: 'camping', difficulty: 'intermediate' },
  { id: 'camping_007', polish: 'kompas', english: 'compass', category: 'leisure', subcategory: 'camping', difficulty: 'intermediate' },
  { id: 'camping_008', polish: 'mapa', english: 'map', category: 'leisure', subcategory: 'camping', difficulty: 'beginner' },
  { id: 'camping_009', polish: 'wędrówka', english: 'hiking', category: 'leisure', subcategory: 'camping', difficulty: 'intermediate' },
  { id: 'camping_010', polish: 'szlak', english: 'trail', category: 'leisure', subcategory: 'camping', difficulty: 'intermediate' },

  // FOTOGRAFIA (Photography)
  { id: 'photo_001', polish: 'aparat fotograficzny', english: 'camera', category: 'leisure', subcategory: 'photography', difficulty: 'intermediate' },
  { id: 'photo_002', polish: 'obiektyw', english: 'lens', category: 'leisure', subcategory: 'photography', difficulty: 'advanced' },
  { id: 'photo_003', polish: 'zdjęcie', english: 'photo', category: 'leisure', subcategory: 'photography', difficulty: 'beginner' },
  { id: 'photo_004', polish: 'fotograf', english: 'photographer', category: 'leisure', subcategory: 'photography', difficulty: 'intermediate' },
  { id: 'photo_005', polish: 'portret', english: 'portrait', category: 'leisure', subcategory: 'photography', difficulty: 'intermediate' },
  { id: 'photo_006', polish: 'krajobraz', english: 'landscape', category: 'leisure', subcategory: 'photography', difficulty: 'intermediate' },
  { id: 'photo_007', polish: 'lampa błyskowa', english: 'flash', category: 'leisure', subcategory: 'photography', difficulty: 'intermediate' },
  { id: 'photo_008', polish: 'statyw', english: 'tripod', category: 'leisure', subcategory: 'photography', difficulty: 'advanced' },
  { id: 'photo_009', polish: 'filtr', english: 'filter', category: 'leisure', subcategory: 'photography', difficulty: 'advanced' },
  { id: 'photo_010', polish: 'album', english: 'album', category: 'leisure', subcategory: 'photography', difficulty: 'beginner' },

  // GRY (Games)
  { id: 'games_001', polish: 'gra', english: 'game', category: 'leisure', subcategory: 'games', difficulty: 'beginner' },
  { id: 'games_002', polish: 'gra planszowa', english: 'board game', category: 'leisure', subcategory: 'games', difficulty: 'intermediate' },
  { id: 'games_003', polish: 'szachy', english: 'chess', category: 'leisure', subcategory: 'games', difficulty: 'intermediate' },
  { id: 'games_004', polish: 'warcaby', english: 'checkers', category: 'leisure', subcategory: 'games', difficulty: 'intermediate' },
  { id: 'games_005', polish: 'karty', english: 'cards', category: 'leisure', subcategory: 'games', difficulty: 'beginner' },
  { id: 'games_006', polish: 'kostka do gry', english: 'dice', category: 'leisure', subcategory: 'games', difficulty: 'intermediate' },
  { id: 'games_007', polish: 'puzzle', english: 'puzzle', category: 'leisure', subcategory: 'games', difficulty: 'beginner' },
  { id: 'games_008', polish: 'gra wideo', english: 'video game', category: 'leisure', subcategory: 'games', difficulty: 'beginner' },
  { id: 'games_009', polish: 'konsola', english: 'console', category: 'leisure', subcategory: 'games', difficulty: 'intermediate' },
  { id: 'games_010', polish: 'joystick', english: 'joystick', category: 'leisure', subcategory: 'games', difficulty: 'intermediate' },
];

export async function seedLeisureVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing leisure vocabulary IDs
    const existingLeisure = await db.vocabulary.where('category').equals('leisure').toArray();
    const existingIds = new Set(existingLeisure.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = leisureVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new leisure words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('leisure').count();
    await db.categories.update('leisure', { totalWords: totalCount });
    console.log(`✅ Leisure vocabulary: ${totalCount} total words (${leisureVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingLeisure = await db.vocabulary.where('category').equals('leisure').toArray();
      const existingIds = new Set(existingLeisure.map(w => w.id));
      const newWords = leisureVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining leisure words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('leisure').count();
      await db.categories.update('leisure', { totalWords: totalCount });
      console.log(`✅ Leisure vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding leisure vocabulary:', error);
    return false;
  }
}
