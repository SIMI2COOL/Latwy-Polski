import { VocabularyWord } from '@/types';

export const eatingOutVocabulary: VocabularyWord[] = [
  // KAWIARNIA (Café)
  { id: 'cafe_001', polish: 'kawa', spanish: 'coffee', category: 'eating-out', subcategory: 'cafe', difficulty: 'beginner' },
  { id: 'cafe_002', polish: 'herbata', spanish: 'tea', category: 'eating-out', subcategory: 'cafe', difficulty: 'beginner' },
  { id: 'cafe_003', polish: 'espresso', spanish: 'espresso', category: 'eating-out', subcategory: 'cafe', difficulty: 'intermediate' },
  { id: 'cafe_004', polish: 'cappuccino', spanish: 'cappuccino', category: 'eating-out', subcategory: 'cafe', difficulty: 'intermediate' },
  { id: 'cafe_005', polish: 'latte', spanish: 'latte', category: 'eating-out', subcategory: 'cafe', difficulty: 'intermediate' },
  { id: 'cafe_006', polish: 'kawa mrożona', spanish: 'iced coffee', category: 'eating-out', subcategory: 'cafe', difficulty: 'intermediate' },
  { id: 'cafe_007', polish: 'gorąca czekolada', spanish: 'hot chocolate', category: 'eating-out', subcategory: 'cafe', difficulty: 'beginner' },
  { id: 'cafe_008', polish: 'ciastko', spanish: 'pastry', category: 'eating-out', subcategory: 'cafe', difficulty: 'beginner' },
  { id: 'cafe_009', polish: 'pączek', spanish: 'donut', category: 'eating-out', subcategory: 'cafe', difficulty: 'beginner' },
  { id: 'cafe_010', polish: 'rogalik', spanish: 'croissant', category: 'eating-out', subcategory: 'cafe', difficulty: 'intermediate' },
  { id: 'cafe_011', polish: 'muffinka', spanish: 'muffin', category: 'eating-out', subcategory: 'cafe', difficulty: 'intermediate' },
  { id: 'cafe_012', polish: 'herbatnik', spanish: 'cookie', category: 'eating-out', subcategory: 'cafe', difficulty: 'beginner' },

  // BAR (Bar)
  { id: 'bar_001', polish: 'piwo', spanish: 'beer', category: 'eating-out', subcategory: 'bar', difficulty: 'beginner' },
  { id: 'bar_002', polish: 'wino', spanish: 'wine', category: 'eating-out', subcategory: 'bar', difficulty: 'beginner' },
  { id: 'bar_003', polish: 'wódka', spanish: 'vodka', category: 'eating-out', subcategory: 'bar', difficulty: 'beginner' },
  { id: 'bar_004', polish: 'whisky', spanish: 'whiskey', category: 'eating-out', subcategory: 'bar', difficulty: 'intermediate' },
  { id: 'bar_005', polish: 'rum', spanish: 'rum', category: 'eating-out', subcategory: 'bar', difficulty: 'intermediate' },
  { id: 'bar_006', polish: 'gin', spanish: 'gin', category: 'eating-out', subcategory: 'bar', difficulty: 'intermediate' },
  { id: 'bar_007', polish: 'koktajl', spanish: 'cocktail', category: 'eating-out', subcategory: 'bar', difficulty: 'intermediate' },
  { id: 'bar_008', polish: 'drink', spanish: 'drink', category: 'eating-out', subcategory: 'bar', difficulty: 'beginner' },
  { id: 'bar_009', polish: 'sok', spanish: 'juice', category: 'eating-out', subcategory: 'bar', difficulty: 'beginner' },
  { id: 'bar_010', polish: 'woda mineralna', spanish: 'mineral water', category: 'eating-out', subcategory: 'bar', difficulty: 'beginner' },
  { id: 'bar_011', polish: 'cola', spanish: 'cola', category: 'eating-out', subcategory: 'bar', difficulty: 'beginner' },
  { id: 'bar_012', polish: 'tonik', spanish: 'tonic', category: 'eating-out', subcategory: 'bar', difficulty: 'intermediate' },

  // RESTAURACJA (Restaurant)
  { id: 'restaurant_001', polish: 'menu', spanish: 'menu', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_002', polish: 'kelner', spanish: 'waiter', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_003', polish: 'kelnerka', spanish: 'waitress', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_004', polish: 'szef kuchni', spanish: 'chef', category: 'eating-out', subcategory: 'restaurant', difficulty: 'intermediate' },
  { id: 'restaurant_005', polish: 'stolik', spanish: 'table', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_006', polish: 'krzesło', spanish: 'chair', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_007', polish: 'talerz', spanish: 'plate', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_008', polish: 'szklanka', spanish: 'glass', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_009', polish: 'sztućce', spanish: 'cutlery', category: 'eating-out', subcategory: 'restaurant', difficulty: 'intermediate' },
  { id: 'restaurant_010', polish: 'nóż', spanish: 'knife', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_011', polish: 'widelec', spanish: 'fork', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_012', polish: 'łyżka', spanish: 'spoon', category: 'eating-out', subcategory: 'restaurant', difficulty: 'beginner' },
  { id: 'restaurant_013', polish: 'serwetka', spanish: 'napkin', category: 'eating-out', subcategory: 'restaurant', difficulty: 'intermediate' },
  { id: 'restaurant_014', polish: 'rachunek', spanish: 'bill', category: 'eating-out', subcategory: 'restaurant', difficulty: 'intermediate' },
  { id: 'restaurant_015', polish: 'napiwek', spanish: 'tip', category: 'eating-out', subcategory: 'restaurant', difficulty: 'intermediate' },

  // FAST FOOD
  { id: 'fastfood_001', polish: 'hamburger', spanish: 'hamburger', category: 'eating-out', subcategory: 'fastfood', difficulty: 'beginner' },
  { id: 'fastfood_002', polish: 'cheeseburger', spanish: 'cheeseburger', category: 'eating-out', subcategory: 'fastfood', difficulty: 'beginner' },
  { id: 'fastfood_003', polish: 'frytki', spanish: 'french fries', category: 'eating-out', subcategory: 'fastfood', difficulty: 'beginner' },
  { id: 'fastfood_004', polish: 'pizza', spanish: 'pizza', category: 'eating-out', subcategory: 'fastfood', difficulty: 'beginner' },
  { id: 'fastfood_005', polish: 'hot dog', spanish: 'hot dog', category: 'eating-out', subcategory: 'fastfood', difficulty: 'beginner' },
  { id: 'fastfood_006', polish: 'kanapka', spanish: 'sandwich', category: 'eating-out', subcategory: 'fastfood', difficulty: 'beginner' },
  { id: 'fastfood_007', polish: 'kebab', spanish: 'kebab', category: 'eating-out', subcategory: 'fastfood', difficulty: 'intermediate' },
  { id: 'fastfood_008', polish: 'nuggetsy', spanish: 'nuggets', category: 'eating-out', subcategory: 'fastfood', difficulty: 'beginner' },
  { id: 'fastfood_009', polish: 'taco', spanish: 'taco', category: 'eating-out', subcategory: 'fastfood', difficulty: 'intermediate' },
  { id: 'fastfood_010', polish: 'burrito', spanish: 'burrito', category: 'eating-out', subcategory: 'fastfood', difficulty: 'intermediate' },

  // ŚNIADANIE (Breakfast)
  { id: 'breakfast_001', polish: 'jajko', spanish: 'egg', category: 'eating-out', subcategory: 'breakfast', difficulty: 'beginner' },
  { id: 'breakfast_002', polish: 'jajecznica', spanish: 'scrambled eggs', category: 'eating-out', subcategory: 'breakfast', difficulty: 'intermediate' },
  { id: 'breakfast_003', polish: 'jajko sadzone', spanish: 'fried egg', category: 'eating-out', subcategory: 'breakfast', difficulty: 'intermediate' },
  { id: 'breakfast_004', polish: 'omlet', spanish: 'omelet', category: 'eating-out', subcategory: 'breakfast', difficulty: 'intermediate' },
  { id: 'breakfast_005', polish: 'płatki śniadaniowe', spanish: 'cereal', category: 'eating-out', subcategory: 'breakfast', difficulty: 'beginner' },
  { id: 'breakfast_006', polish: 'owsianka', spanish: 'oatmeal', category: 'eating-out', subcategory: 'breakfast', difficulty: 'intermediate' },
  { id: 'breakfast_007', polish: 'naleśnik', spanish: 'pancake', category: 'eating-out', subcategory: 'breakfast', difficulty: 'intermediate' },
  { id: 'breakfast_008', polish: 'gofr', spanish: 'waffle', category: 'eating-out', subcategory: 'breakfast', difficulty: 'intermediate' },
  { id: 'breakfast_009', polish: 'tost', spanish: 'toast', category: 'eating-out', subcategory: 'breakfast', difficulty: 'beginner' },
  { id: 'breakfast_010', polish: 'masło', spanish: 'butter', category: 'eating-out', subcategory: 'breakfast', difficulty: 'beginner' },
  { id: 'breakfast_011', polish: 'dżem', spanish: 'jam', category: 'eating-out', subcategory: 'breakfast', difficulty: 'beginner' },
  { id: 'breakfast_012', polish: 'miód', spanish: 'honey', category: 'eating-out', subcategory: 'breakfast', difficulty: 'beginner' },

  // OBIAD (Dinner)
  { id: 'dinner_001', polish: 'zupa', spanish: 'soup', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_002', polish: 'rosół', spanish: 'broth', category: 'eating-out', subcategory: 'dinner', difficulty: 'intermediate' },
  { id: 'dinner_003', polish: 'sałatka', spanish: 'salad', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_004', polish: 'makaron', spanish: 'pasta', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_005', polish: 'ryż', spanish: 'rice', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_006', polish: 'ziemniaki', spanish: 'potatoes', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_007', polish: 'stek', spanish: 'steak', category: 'eating-out', subcategory: 'dinner', difficulty: 'intermediate' },
  { id: 'dinner_008', polish: 'kotlet', spanish: 'cutlet', category: 'eating-out', subcategory: 'dinner', difficulty: 'intermediate' },
  { id: 'dinner_009', polish: 'ryba', spanish: 'fish', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_010', polish: 'kurczak', spanish: 'chicken', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_011', polish: 'sos', spanish: 'sauce', category: 'eating-out', subcategory: 'dinner', difficulty: 'beginner' },
  { id: 'dinner_012', polish: 'przyprawa', spanish: 'seasoning', category: 'eating-out', subcategory: 'dinner', difficulty: 'intermediate' },
];

export async function seedEatingOutVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing eating-out vocabulary IDs
    const existingEatingOut = await db.vocabulary.where('category').equals('eating-out').toArray();
    const existingIds = new Set(existingEatingOut.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = eatingOutVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new eating-out words`);
    }
    
    // Update total word count
    const totalCount = await db.vocabulary.where('category').equals('eating-out').count();
    await db.categories.update('eating-out', { totalWords: totalCount });
    console.log(`✅ Eating Out vocabulary: ${totalCount} total words (${eatingOutVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingEatingOut = await db.vocabulary.where('category').equals('eating-out').toArray();
      const existingIds = new Set(existingEatingOut.map(w => w.id));
      const newWords = eatingOutVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
          const totalCount = await db.vocabulary.where('category').equals('eating-out').count();
          await db.categories.update('eating-out', { totalWords: totalCount });
          console.log(`✅ Added ${newWords.length} new eating-out words. Total: ${totalCount}`);
        } catch (e) {
          console.error('Error adding remaining eating-out words:', e);
        }
      }
      return true;
    }
    console.error('Error seeding eating out vocabulary:', error);
    return false;
  }
}
