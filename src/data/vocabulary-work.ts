import { VocabularyWord } from '@/types';

export const workVocabulary: VocabularyWord[] = [
  // BIURO (Office)
  { id: 'office_001', polish: 'biuro', spanish: 'office', category: 'work', subcategory: 'office', difficulty: 'beginner' },
  { id: 'office_002', polish: 'biurko', spanish: 'desk', category: 'work', subcategory: 'office', difficulty: 'beginner' },
  { id: 'office_003', polish: 'krzesło biurowe', spanish: 'office chair', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_004', polish: 'komputer', spanish: 'computer', category: 'work', subcategory: 'office', difficulty: 'beginner' },
  { id: 'office_005', polish: 'laptop', spanish: 'laptop', category: 'work', subcategory: 'office', difficulty: 'beginner' },
  { id: 'office_006', polish: 'klawiatura', spanish: 'keyboard', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_007', polish: 'myszka', spanish: 'mouse', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_008', polish: 'monitor', spanish: 'monitor', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_009', polish: 'drukarka', spanish: 'printer', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_010', polish: 'skaner', spanish: 'scanner', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_011', polish: 'telefon', spanish: 'telephone', category: 'work', subcategory: 'office', difficulty: 'beginner' },
  { id: 'office_012', polish: 'faks', spanish: 'fax', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_013', polish: 'kosz na śmieci', spanish: 'trash can', category: 'work', subcategory: 'office', difficulty: 'intermediate' },
  { id: 'office_014', polish: 'szafa na akta', spanish: 'filing cabinet', category: 'work', subcategory: 'office', difficulty: 'advanced' },
  { id: 'office_015', polish: 'tablica korkowa', spanish: 'bulletin board', category: 'work', subcategory: 'office', difficulty: 'intermediate' },

  // PRACA (Work Activities)
  { id: 'work_act_001', polish: 'praca', spanish: 'work', category: 'work', subcategory: 'work-activities', difficulty: 'beginner' },
  { id: 'work_act_002', polish: 'pracować', spanish: 'to work', category: 'work', subcategory: 'work-activities', difficulty: 'beginner' },
  { id: 'work_act_003', polish: 'pracownik', spanish: 'employee', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_004', polish: 'pracodawca', spanish: 'employer', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_005', polish: 'szef', spanish: 'boss', category: 'work', subcategory: 'work-activities', difficulty: 'beginner' },
  { id: 'work_act_006', polish: 'kolega z pracy', spanish: 'colleague', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_007', polish: 'spotkanie', spanish: 'meeting', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_008', polish: 'prezentacja', spanish: 'presentation', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_009', polish: 'projekt', spanish: 'project', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_010', polish: 'termin', spanish: 'deadline', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_011', polish: 'raport', spanish: 'report', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_012', polish: 'dokument', spanish: 'document', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_013', polish: 'umowa', spanish: 'contract', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_014', polish: 'podpis', spanish: 'signature', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },
  { id: 'work_act_015', polish: 'urlop', spanish: 'vacation', category: 'work', subcategory: 'work-activities', difficulty: 'intermediate' },

  // ZAWODY (Professions)
  { id: 'professions_001', polish: 'lekarz', spanish: 'doctor', category: 'work', subcategory: 'professions', difficulty: 'beginner' },
  { id: 'professions_002', polish: 'pielęgniarka', spanish: 'nurse', category: 'work', subcategory: 'professions', difficulty: 'beginner' },
  { id: 'professions_003', polish: 'nauczyciel', spanish: 'teacher', category: 'work', subcategory: 'professions', difficulty: 'beginner' },
  { id: 'professions_004', polish: 'policjant', spanish: 'police officer', category: 'work', subcategory: 'professions', difficulty: 'beginner' },
  { id: 'professions_005', polish: 'strażak', spanish: 'firefighter', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_006', polish: 'inżynier', spanish: 'engineer', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_007', polish: 'architekt', spanish: 'architect', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_008', polish: 'prawnik', spanish: 'lawyer', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_009', polish: 'księgowy', spanish: 'accountant', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_010', polish: 'programista', spanish: 'programmer', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_011', polish: 'dziennikarz', spanish: 'journalist', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_012', polish: 'fotograf', spanish: 'photographer', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_013', polish: 'fryzjer', spanish: 'hairdresser', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_014', polish: 'kucharz', spanish: 'chef', category: 'work', subcategory: 'professions', difficulty: 'beginner' },
  { id: 'professions_015', polish: 'kelner', spanish: 'waiter', category: 'work', subcategory: 'professions', difficulty: 'beginner' },
  { id: 'professions_016', polish: 'sprzedawca', spanish: 'salesperson', category: 'work', subcategory: 'professions', difficulty: 'beginner' },
  { id: 'professions_017', polish: 'mechanik', spanish: 'mechanic', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_018', polish: 'elektryk', spanish: 'electrician', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_019', polish: 'hydraulik', spanish: 'plumber', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },
  { id: 'professions_020', polish: 'malarz', spanish: 'painter', category: 'work', subcategory: 'professions', difficulty: 'intermediate' },

  // FINANSE (Finance)
  { id: 'finance_001', polish: 'pensja', spanish: 'salary', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_002', polish: 'wynagrodzenie', spanish: 'wage', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_003', polish: 'premia', spanish: 'bonus', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_004', polish: 'podwyżka', spanish: 'raise', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_005', polish: 'podatek', spanish: 'tax', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_006', polish: 'ubezpieczenie', spanish: 'insurance', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_007', polish: 'emerytura', spanish: 'retirement', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_008', polish: 'faktura', spanish: 'invoice', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_009', polish: 'budżet', spanish: 'budget', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },
  { id: 'finance_010', polish: 'zysk', spanish: 'profit', category: 'work', subcategory: 'finance', difficulty: 'intermediate' },

  // POSZUKIWANIE PRACY (Job Search)
  { id: 'job_search_001', polish: 'praca', spanish: 'job', category: 'work', subcategory: 'job-search', difficulty: 'beginner' },
  { id: 'job_search_002', polish: 'ogłoszenie o pracę', spanish: 'job posting', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_003', polish: 'CV', spanish: 'resume', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_004', polish: 'list motywacyjny', spanish: 'cover letter', category: 'work', subcategory: 'job-search', difficulty: 'advanced' },
  { id: 'job_search_005', polish: 'rozmowa kwalifikacyjna', spanish: 'job interview', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_006', polish: 'kandydat', spanish: 'candidate', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_007', polish: 'doświadczenie', spanish: 'experience', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_008', polish: 'kwalifikacje', spanish: 'qualifications', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_009', polish: 'umiejętności', spanish: 'skills', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_010', polish: 'zatrudnić', spanish: 'to hire', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_011', polish: 'zwolnić', spanish: 'to fire', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
  { id: 'job_search_012', polish: 'awans', spanish: 'promotion', category: 'work', subcategory: 'job-search', difficulty: 'intermediate' },
];

export async function seedWorkVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing work vocabulary IDs
    const existingWork = await db.vocabulary.where('category').equals('work').toArray();
    const existingIds = new Set(existingWork.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = workVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new work words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('work').count();
    await db.categories.update('work', { totalWords: totalCount });
    console.log(`✅ Work vocabulary: ${totalCount} total words (${workVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingWork = await db.vocabulary.where('category').equals('work').toArray();
      const existingIds = new Set(existingWork.map(w => w.id));
      const newWords = workVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining work words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('work').count();
      await db.categories.update('work', { totalWords: totalCount });
      console.log(`✅ Work vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding work vocabulary:', error);
    return false;
  }
}
