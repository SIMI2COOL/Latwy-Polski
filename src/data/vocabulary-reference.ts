import { VocabularyWord } from '@/types';

export const referenceVocabulary: VocabularyWord[] = [
  // CZAS (Time)
  { id: 'time_001', polish: 'sekunda', spanish: 'segundo', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_002', polish: 'minuta', spanish: 'minuto', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_003', polish: 'godzina', spanish: 'hora', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_004', polish: 'dzień', spanish: 'día', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_005', polish: 'tydzień', spanish: 'semana', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_006', polish: 'miesiąc', spanish: 'mes', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_007', polish: 'rok', spanish: 'año', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_008', polish: 'rano', spanish: 'mañana', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_009', polish: 'południe', spanish: 'mediodía', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_010', polish: 'popołudnie', spanish: 'tarde', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_011', polish: 'wieczór', spanish: 'noche', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_012', polish: 'noc', spanish: 'noche', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_013', polish: 'północ', spanish: 'medianoche', category: 'reference', subcategory: 'time', difficulty: 'intermediate' },
  { id: 'time_014', polish: 'wczoraj', spanish: 'ayer', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_015', polish: 'dziś', spanish: 'hoy', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_016', polish: 'jutro', spanish: 'mañana', category: 'reference', subcategory: 'time', difficulty: 'beginner' },

  // KALENDARZ (Calendar)
  { id: 'calendar_001', polish: 'poniedziałek', spanish: 'lunes', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_002', polish: 'wtorek', spanish: 'martes', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_003', polish: 'środa', spanish: 'miércoles', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_004', polish: 'czwartek', spanish: 'jueves', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_005', polish: 'piątek', spanish: 'viernes', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_006', polish: 'sobota', spanish: 'sábado', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_007', polish: 'niedziela', spanish: 'domingo', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_008', polish: 'styczeń', spanish: 'enero', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_009', polish: 'luty', spanish: 'febrero', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_010', polish: 'marzec', spanish: 'marzo', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_011', polish: 'kwiecień', spanish: 'abril', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_012', polish: 'maj', spanish: 'mayo', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_013', polish: 'czerwiec', spanish: 'junio', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_014', polish: 'lipiec', spanish: 'julio', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_015', polish: 'sierpień', spanish: 'agosto', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_016', polish: 'wrzesień', spanish: 'septiembre', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_017', polish: 'październik', spanish: 'octubre', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_018', polish: 'listopad', spanish: 'noviembre', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_019', polish: 'grudzień', spanish: 'diciembre', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },

  // LICZBY (Numbers)
  { id: 'numbers_001', polish: 'zero', spanish: 'zero', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_002', polish: 'jeden', spanish: 'uno', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_003', polish: 'dwa', spanish: 'dos', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_004', polish: 'trzy', spanish: 'tres', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_005', polish: 'cztery', spanish: 'four', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_006', polish: 'pięć', spanish: 'five', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_007', polish: 'sześć', spanish: 'six', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_008', polish: 'siedem', spanish: 'seven', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_009', polish: 'osiem', spanish: 'eight', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_010', polish: 'dziewięć', spanish: 'nine', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_011', polish: 'dziesięć', spanish: 'ten', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_012', polish: 'dwadzieścia', spanish: 'twenty', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_013', polish: 'trzydzieści', spanish: 'thirty', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },
  { id: 'numbers_014', polish: 'sto', spanish: 'hundred', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_015', polish: 'tysiąc', spanish: 'thousand', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },
  { id: 'numbers_016', polish: 'milion', spanish: 'million', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },

  // KOLORY (Colors)
  { id: 'colors_001', polish: 'kolor', spanish: 'color', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_002', polish: 'czerwony', spanish: 'red', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_003', polish: 'niebieski', spanish: 'blue', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_004', polish: 'żółty', spanish: 'yellow', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_005', polish: 'zielony', spanish: 'green', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_006', polish: 'pomarańczowy', spanish: 'orange', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_007', polish: 'fioletowy', spanish: 'purple', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_008', polish: 'różowy', spanish: 'pink', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_009', polish: 'brązowy', spanish: 'brown', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_010', polish: 'czarny', spanish: 'black', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_011', polish: 'biały', spanish: 'white', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_012', polish: 'szary', spanish: 'gray', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },

  // PRZYDATNE ZWROTY (Useful Phrases)
  { id: 'phrases_001', polish: 'dziękuję', spanish: 'gracias', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_002', polish: 'proszę', spanish: 'por favor', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_003', polish: 'przepraszam', spanish: 'disculpe', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_004', polish: 'tak', spanish: 'sí', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_005', polish: 'nie', spanish: 'no', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_006', polish: 'dzień dobry', spanish: 'buenos días', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_007', polish: 'dobry wieczór', spanish: 'buenas tardes', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_008', polish: 'dobranoc', spanish: 'buenas noches', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_009', polish: 'do widzenia', spanish: 'adiós', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_010', polish: 'cześć', spanish: 'hola', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_011', polish: 'jak się masz', spanish: '¿cómo estás?', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_012', polish: 'ile to kosztuje', spanish: '¿cuánto cuesta esto?', category: 'reference', subcategory: 'phrases', difficulty: 'intermediate' },
];

export async function seedReferenceVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing reference vocabulary IDs
    const existingReference = await db.vocabulary.where('category').equals('reference').toArray();
    const existingIds = new Set(existingReference.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = referenceVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new reference words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('reference').count();
    await db.categories.update('reference', { totalWords: totalCount });
    console.log(`✅ Reference vocabulary: ${totalCount} total words (${referenceVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingReference = await db.vocabulary.where('category').equals('reference').toArray();
      const existingIds = new Set(existingReference.map(w => w.id));
      const newWords = referenceVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining reference words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('reference').count();
      await db.categories.update('reference', { totalWords: totalCount });
      console.log(`✅ Reference vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding reference vocabulary:', error);
    return false;
  }
}
