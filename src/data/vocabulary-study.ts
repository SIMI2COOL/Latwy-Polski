import { VocabularyWord } from '@/types';

export const studyVocabulary: VocabularyWord[] = [
  // SZKOŁA (School)
  { id: 'school_001', polish: 'szkoła', english: 'school', category: 'study', subcategory: 'school', difficulty: 'beginner' },
  { id: 'school_002', polish: 'przedszkole', english: 'kindergarten', category: 'study', subcategory: 'school', difficulty: 'intermediate' },
  { id: 'school_003', polish: 'szkoła podstawowa', english: 'elementary school', category: 'study', subcategory: 'school', difficulty: 'intermediate' },
  { id: 'school_004', polish: 'liceum', english: 'high school', category: 'study', subcategory: 'school', difficulty: 'intermediate' },
  { id: 'school_005', polish: 'uniwersytet', english: 'university', category: 'study', subcategory: 'school', difficulty: 'intermediate' },
  { id: 'school_006', polish: 'klasa', english: 'classroom', category: 'study', subcategory: 'school', difficulty: 'beginner' },
  { id: 'school_007', polish: 'tablica', english: 'blackboard', category: 'study', subcategory: 'school', difficulty: 'beginner' },
  { id: 'school_008', polish: 'biurko', english: 'desk', category: 'study', subcategory: 'school', difficulty: 'beginner' },
  { id: 'school_009', polish: 'nauczyciel', english: 'teacher', category: 'study', subcategory: 'school', difficulty: 'beginner' },
  { id: 'school_010', polish: 'uczeń', english: 'student', category: 'study', subcategory: 'school', difficulty: 'beginner' },
  { id: 'school_011', polish: 'dyrektor', english: 'principal', category: 'study', subcategory: 'school', difficulty: 'intermediate' },
  { id: 'school_012', polish: 'biblioteka', english: 'library', category: 'study', subcategory: 'school', difficulty: 'beginner' },
  { id: 'school_013', polish: 'stołówka', english: 'cafeteria', category: 'study', subcategory: 'school', difficulty: 'intermediate' },
  { id: 'school_014', polish: 'boisko szkolne', english: 'playground', category: 'study', subcategory: 'school', difficulty: 'intermediate' },
  { id: 'school_015', polish: 'dzwonek', english: 'bell', category: 'study', subcategory: 'school', difficulty: 'intermediate' },

  // NAUKA (Learning)
  { id: 'learning_001', polish: 'uczyć się', english: 'to study', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_002', polish: 'czytać', english: 'to read', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_003', polish: 'pisać', english: 'to write', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_004', polish: 'liczyć', english: 'to count', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_005', polish: 'lekcja', english: 'lesson', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_006', polish: 'przedmiot', english: 'subject', category: 'study', subcategory: 'learning', difficulty: 'intermediate' },
  { id: 'learning_007', polish: 'egzamin', english: 'exam', category: 'study', subcategory: 'learning', difficulty: 'intermediate' },
  { id: 'learning_008', polish: 'test', english: 'test', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_009', polish: 'praca domowa', english: 'homework', category: 'study', subcategory: 'learning', difficulty: 'intermediate' },
  { id: 'learning_010', polish: 'zadanie', english: 'assignment', category: 'study', subcategory: 'learning', difficulty: 'intermediate' },
  { id: 'learning_011', polish: 'pytanie', english: 'question', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_012', polish: 'odpowiedź', english: 'answer', category: 'study', subcategory: 'learning', difficulty: 'beginner' },
  { id: 'learning_013', polish: 'błąd', english: 'mistake', category: 'study', subcategory: 'learning', difficulty: 'intermediate' },
  { id: 'learning_014', polish: 'ocena', english: 'grade', category: 'study', subcategory: 'learning', difficulty: 'intermediate' },
  { id: 'learning_015', polish: 'stopień', english: 'mark', category: 'study', subcategory: 'learning', difficulty: 'intermediate' },

  // MATERIAŁY SZKOLNE (School Supplies)
  { id: 'supplies_001', polish: 'książka', english: 'book', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_002', polish: 'zeszyt', english: 'notebook', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_003', polish: 'długopis', english: 'pen', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_004', polish: 'ołówek', english: 'pencil', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_005', polish: 'gumka', english: 'eraser', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_006', polish: 'temperówka', english: 'pencil sharpener', category: 'study', subcategory: 'supplies', difficulty: 'intermediate' },
  { id: 'supplies_007', polish: 'linijka', english: 'ruler', category: 'study', subcategory: 'supplies', difficulty: 'intermediate' },
  { id: 'supplies_008', polish: 'kredka', english: 'crayon', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_009', polish: 'flamaster', english: 'marker', category: 'study', subcategory: 'supplies', difficulty: 'intermediate' },
  { id: 'supplies_010', polish: 'zakreślacz', english: 'highlighter', category: 'study', subcategory: 'supplies', difficulty: 'intermediate' },
  { id: 'supplies_011', polish: 'klej', english: 'glue', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_012', polish: 'nożyczki', english: 'scissors', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_013', polish: 'plecak', english: 'backpack', category: 'study', subcategory: 'supplies', difficulty: 'beginner' },
  { id: 'supplies_014', polish: 'piórnik', english: 'pencil case', category: 'study', subcategory: 'supplies', difficulty: 'intermediate' },
  { id: 'supplies_015', polish: 'kalkulator', english: 'calculator', category: 'study', subcategory: 'supplies', difficulty: 'intermediate' },

  // PRZEDMIOTY (Subjects)
  { id: 'subjects_001', polish: 'matematyka', english: 'mathematics', category: 'study', subcategory: 'subjects', difficulty: 'beginner' },
  { id: 'subjects_002', polish: 'język polski', english: 'Polish language', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },
  { id: 'subjects_003', polish: 'język angielski', english: 'English language', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },
  { id: 'subjects_004', polish: 'historia', english: 'history', category: 'study', subcategory: 'subjects', difficulty: 'beginner' },
  { id: 'subjects_005', polish: 'geografia', english: 'geography', category: 'study', subcategory: 'subjects', difficulty: 'beginner' },
  { id: 'subjects_006', polish: 'biologia', english: 'biology', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },
  { id: 'subjects_007', polish: 'chemia', english: 'chemistry', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },
  { id: 'subjects_008', polish: 'fizyka', english: 'physics', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },
  { id: 'subjects_009', polish: 'wychowanie fizyczne', english: 'physical education', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },
  { id: 'subjects_010', polish: 'muzyka', english: 'music', category: 'study', subcategory: 'subjects', difficulty: 'beginner' },
  { id: 'subjects_011', polish: 'plastyka', english: 'art', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },
  { id: 'subjects_012', polish: 'informatyka', english: 'computer science', category: 'study', subcategory: 'subjects', difficulty: 'intermediate' },

  // NAUKA JĘZYKÓW (Language Learning)
  { id: 'language_001', polish: 'język', english: 'language', category: 'study', subcategory: 'language-learning', difficulty: 'beginner' },
  { id: 'language_002', polish: 'słowo', english: 'word', category: 'study', subcategory: 'language-learning', difficulty: 'beginner' },
  { id: 'language_003', polish: 'zdanie', english: 'sentence', category: 'study', subcategory: 'language-learning', difficulty: 'beginner' },
  { id: 'language_004', polish: 'gramatyka', english: 'grammar', category: 'study', subcategory: 'language-learning', difficulty: 'intermediate' },
  { id: 'language_005', polish: 'słownictwo', english: 'vocabulary', category: 'study', subcategory: 'language-learning', difficulty: 'intermediate' },
  { id: 'language_006', polish: 'wymowa', english: 'pronunciation', category: 'study', subcategory: 'language-learning', difficulty: 'intermediate' },
  { id: 'language_007', polish: 'tłumaczenie', english: 'translation', category: 'study', subcategory: 'language-learning', difficulty: 'intermediate' },
  { id: 'language_008', polish: 'słownik', english: 'dictionary', category: 'study', subcategory: 'language-learning', difficulty: 'intermediate' },
  { id: 'language_009', polish: 'ćwiczenie', english: 'exercise', category: 'study', subcategory: 'language-learning', difficulty: 'intermediate' },
  { id: 'language_010', polish: 'mówić', english: 'to speak', category: 'study', subcategory: 'language-learning', difficulty: 'beginner' },
];

export async function seedStudyVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing study vocabulary IDs
    const existingStudy = await db.vocabulary.where('category').equals('study').toArray();
    const existingIds = new Set(existingStudy.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = studyVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new study words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('study').count();
    await db.categories.update('study', { totalWords: totalCount });
    console.log(`✅ Study vocabulary: ${totalCount} total words (${studyVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingStudy = await db.vocabulary.where('category').equals('study').toArray();
      const existingIds = new Set(existingStudy.map(w => w.id));
      const newWords = studyVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining study words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('study').count();
      await db.categories.update('study', { totalWords: totalCount });
      console.log(`✅ Study vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding study vocabulary:', error);
    return false;
  }
}
