import { VocabularyWord } from '@/types';

export const shoppingVocabulary: VocabularyWord[] = [
  // CENTRUM HANDLOWE (Shopping Center)
  { id: 'shop_center_001', polish: 'centrum handlowe', english: 'shopping center', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_002', polish: 'sklep', english: 'store', category: 'shopping', subcategory: 'shopping-center', difficulty: 'beginner' },
  { id: 'shop_center_003', polish: 'supermarket', english: 'supermarket', category: 'shopping', subcategory: 'shopping-center', difficulty: 'beginner' },
  { id: 'shop_center_004', polish: 'butik', english: 'boutique', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_005', polish: 'dom towarowy', english: 'department store', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_006', polish: 'witryna sklepowa', english: 'shop window', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_007', polish: 'schody ruchome', english: 'escalator', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_008', polish: 'kasa', english: 'checkout', category: 'shopping', subcategory: 'shopping-center', difficulty: 'beginner' },
  { id: 'shop_center_009', polish: 'klient', english: 'customer', category: 'shopping', subcategory: 'shopping-center', difficulty: 'beginner' },
  { id: 'shop_center_010', polish: 'sprzedawca', english: 'salesperson', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_011', polish: 'kolejka', english: 'queue', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_012', polish: 'koszyk', english: 'basket', category: 'shopping', subcategory: 'shopping-center', difficulty: 'beginner' },
  { id: 'shop_center_013', polish: 'wózek sklepowy', english: 'shopping cart', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_014', polish: 'torba na zakupy', english: 'shopping bag', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },
  { id: 'shop_center_015', polish: 'wyprzedaż', english: 'sale', category: 'shopping', subcategory: 'shopping-center', difficulty: 'intermediate' },

  // SKLEP SPOŻYWCZY (Grocery Store)
  { id: 'grocery_001', polish: 'sklep spożywczy', english: 'grocery store', category: 'shopping', subcategory: 'grocery', difficulty: 'intermediate' },
  { id: 'grocery_002', polish: 'piekarnia', english: 'bakery', category: 'shopping', subcategory: 'grocery', difficulty: 'beginner' },
  { id: 'grocery_003', polish: 'cukiernia', english: 'confectionery', category: 'shopping', subcategory: 'grocery', difficulty: 'intermediate' },
  { id: 'grocery_004', polish: 'sklep mięsny', english: 'butcher shop', category: 'shopping', subcategory: 'grocery', difficulty: 'intermediate' },
  { id: 'grocery_005', polish: 'sklep rybny', english: 'fish market', category: 'shopping', subcategory: 'grocery', difficulty: 'intermediate' },
  { id: 'grocery_006', polish: 'warzywniak', english: 'greengrocer', category: 'shopping', subcategory: 'grocery', difficulty: 'intermediate' },
  { id: 'grocery_007', polish: 'sklep z napojami', english: 'liquor store', category: 'shopping', subcategory: 'grocery', difficulty: 'intermediate' },
  { id: 'grocery_008', polish: 'sklep ekologiczny', english: 'health food store', category: 'shopping', subcategory: 'grocery', difficulty: 'advanced' },
  { id: 'grocery_009', polish: 'targ', english: 'market', category: 'shopping', subcategory: 'grocery', difficulty: 'beginner' },
  { id: 'grocery_010', polish: 'stragan', english: 'stall', category: 'shopping', subcategory: 'grocery', difficulty: 'intermediate' },

  // KUPOWANIE (Buying)
  { id: 'buying_001', polish: 'kupować', english: 'to buy', category: 'shopping', subcategory: 'buying', difficulty: 'beginner' },
  { id: 'buying_002', polish: 'sprzedawać', english: 'to sell', category: 'shopping', subcategory: 'buying', difficulty: 'beginner' },
  { id: 'buying_003', polish: 'zapłacić', english: 'to pay', category: 'shopping', subcategory: 'buying', difficulty: 'beginner' },
  { id: 'buying_004', polish: 'cena', english: 'price', category: 'shopping', subcategory: 'buying', difficulty: 'beginner' },
  { id: 'buying_005', polish: 'kosztować', english: 'to cost', category: 'shopping', subcategory: 'buying', difficulty: 'beginner' },
  { id: 'buying_006', polish: 'reszta', english: 'change', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_007', polish: 'paragon', english: 'receipt', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_008', polish: 'gotówka', english: 'cash', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_009', polish: 'karta płatnicza', english: 'credit card', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_010', polish: 'rabat', english: 'discount', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_011', polish: 'zwrot', english: 'refund', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_012', polish: 'wymiana', english: 'exchange', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_013', polish: 'przecena', english: 'markdown', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_014', polish: 'promocja', english: 'promotion', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },
  { id: 'buying_015', polish: 'kupon', english: 'coupon', category: 'shopping', subcategory: 'buying', difficulty: 'intermediate' },

  // UBRANIA (Clothing Store)
  { id: 'clothing_store_001', polish: 'sklep odzieżowy', english: 'clothing store', category: 'shopping', subcategory: 'clothing-store', difficulty: 'intermediate' },
  { id: 'clothing_store_002', polish: 'przymierzalnia', english: 'fitting room', category: 'shopping', subcategory: 'clothing-store', difficulty: 'intermediate' },
  { id: 'clothing_store_003', polish: 'wieszak', english: 'hanger', category: 'shopping', subcategory: 'clothing-store', difficulty: 'intermediate' },
  { id: 'clothing_store_004', polish: 'rozmiar', english: 'size', category: 'shopping', subcategory: 'clothing-store', difficulty: 'beginner' },
  { id: 'clothing_store_005', polish: 'mały', english: 'small', category: 'shopping', subcategory: 'clothing-store', difficulty: 'beginner' },
  { id: 'clothing_store_006', polish: 'średni', english: 'medium', category: 'shopping', subcategory: 'clothing-store', difficulty: 'beginner' },
  { id: 'clothing_store_007', polish: 'duży', english: 'large', category: 'shopping', subcategory: 'clothing-store', difficulty: 'beginner' },
  { id: 'clothing_store_008', polish: 'pasować', english: 'to fit', category: 'shopping', subcategory: 'clothing-store', difficulty: 'intermediate' },
  { id: 'clothing_store_009', polish: 'przymierzać', english: 'to try on', category: 'shopping', subcategory: 'clothing-store', difficulty: 'intermediate' },
  { id: 'clothing_store_010', polish: 'metka', english: 'label', category: 'shopping', subcategory: 'clothing-store', difficulty: 'intermediate' },

  // KSIĘGARNIA (Bookstore)
  { id: 'bookstore_001', polish: 'księgarnia', english: 'bookstore', category: 'shopping', subcategory: 'bookstore', difficulty: 'intermediate' },
  { id: 'bookstore_002', polish: 'książka', english: 'book', category: 'shopping', subcategory: 'bookstore', difficulty: 'beginner' },
  { id: 'bookstore_003', polish: 'gazeta', english: 'newspaper', category: 'shopping', subcategory: 'bookstore', difficulty: 'beginner' },
  { id: 'bookstore_004', polish: 'czasopismo', english: 'magazine', category: 'shopping', subcategory: 'bookstore', difficulty: 'intermediate' },
  { id: 'bookstore_005', polish: 'komiks', english: 'comic book', category: 'shopping', subcategory: 'bookstore', difficulty: 'intermediate' },
  { id: 'bookstore_006', polish: 'mapa', english: 'map', category: 'shopping', subcategory: 'bookstore', difficulty: 'beginner' },
  { id: 'bookstore_007', polish: 'kartka pocztowa', english: 'postcard', category: 'shopping', subcategory: 'bookstore', difficulty: 'intermediate' },
  { id: 'bookstore_008', polish: 'autor', english: 'author', category: 'shopping', subcategory: 'bookstore', difficulty: 'intermediate' },
  { id: 'bookstore_009', polish: 'bestseller', english: 'bestseller', category: 'shopping', subcategory: 'bookstore', difficulty: 'intermediate' },
  { id: 'bookstore_010', polish: 'nowość', english: 'new release', category: 'shopping', subcategory: 'bookstore', difficulty: 'intermediate' },

  // RODZAJE SKLEPÓW (Store Types)
  { id: 'store_types_001', polish: 'sklep spożywczy', english: 'grocery store', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },
  { id: 'store_types_002', polish: 'targ', english: 'market', category: 'shopping', subcategory: 'store-types', difficulty: 'beginner' },
  { id: 'store_types_003', polish: 'butik', english: 'boutique', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },
  { id: 'store_types_004', polish: 'apteka', english: 'pharmacy', category: 'shopping', subcategory: 'store-types', difficulty: 'beginner' },
  { id: 'store_types_005', polish: 'sklep z elektroniką', english: 'electronics store', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },
  { id: 'store_types_006', polish: 'sklep meblowy', english: 'furniture store', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },
  { id: 'store_types_007', polish: 'sklep z zabawkami', english: 'toy store', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },
  { id: 'store_types_008', polish: 'sklep z obuwiem', english: 'shoe store', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },
  { id: 'store_types_009', polish: 'sklep z biżuterią', english: 'jewelry store', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },
  { id: 'store_types_010', polish: 'sklep z kwiatami', english: 'flower shop', category: 'shopping', subcategory: 'store-types', difficulty: 'intermediate' },

  // METODY PŁATNOŚCI (Payment Methods)
  { id: 'payment_001', polish: 'karta', english: 'card', category: 'shopping', subcategory: 'payment-methods', difficulty: 'beginner' },
  { id: 'payment_002', polish: 'czek', english: 'check', category: 'shopping', subcategory: 'payment-methods', difficulty: 'intermediate' },
  { id: 'payment_003', polish: 'kredyt', english: 'credit', category: 'shopping', subcategory: 'payment-methods', difficulty: 'intermediate' },
  { id: 'payment_004', polish: 'debet', english: 'debit', category: 'shopping', subcategory: 'payment-methods', difficulty: 'intermediate' },
  { id: 'payment_005', polish: 'aplikacja płatnicza', english: 'payment app', category: 'shopping', subcategory: 'payment-methods', difficulty: 'intermediate' },
  { id: 'payment_006', polish: 'płatność online', english: 'online payment', category: 'shopping', subcategory: 'payment-methods', difficulty: 'intermediate' },
  { id: 'payment_007', polish: 'przelew', english: 'transfer', category: 'shopping', subcategory: 'payment-methods', difficulty: 'intermediate' },

  // LISTY I ILOŚCI (Shopping Lists & Quantities)
  { id: 'quantities_001', polish: 'lista zakupów', english: 'shopping list', category: 'shopping', subcategory: 'quantities', difficulty: 'intermediate' },
  { id: 'quantities_002', polish: 'kilogram', english: 'kilogram', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },
  { id: 'quantities_003', polish: 'litr', english: 'liter', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },
  { id: 'quantities_004', polish: 'sztuka', english: 'piece', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },
  { id: 'quantities_005', polish: 'opakowanie', english: 'package', category: 'shopping', subcategory: 'quantities', difficulty: 'intermediate' },
  { id: 'quantities_006', polish: 'pudełko', english: 'box', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },
  { id: 'quantities_007', polish: 'butelka', english: 'bottle', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },
  { id: 'quantities_008', polish: 'paczka', english: 'pack', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },
  { id: 'quantities_009', polish: 'gram', english: 'gram', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },
  { id: 'quantities_010', polish: 'metr', english: 'meter', category: 'shopping', subcategory: 'quantities', difficulty: 'beginner' },

  // CENY I PIENIĄDZE (Prices & Money)
  { id: 'prices_001', polish: 'kosztować', english: 'to cost', category: 'shopping', subcategory: 'prices', difficulty: 'beginner' },
  { id: 'prices_002', polish: 'tani', english: 'cheap', category: 'shopping', subcategory: 'prices', difficulty: 'beginner' },
  { id: 'prices_003', polish: 'drogi', english: 'expensive', category: 'shopping', subcategory: 'prices', difficulty: 'beginner' },
  { id: 'prices_004', polish: 'promocja', english: 'sale', category: 'shopping', subcategory: 'prices', difficulty: 'intermediate' },
  { id: 'prices_005', polish: 'wyprzedaż', english: 'clearance sale', category: 'shopping', subcategory: 'prices', difficulty: 'intermediate' },
  { id: 'prices_006', polish: 'przecena', english: 'discount', category: 'shopping', subcategory: 'prices', difficulty: 'intermediate' },
  { id: 'prices_007', polish: 'cena regularna', english: 'regular price', category: 'shopping', subcategory: 'prices', difficulty: 'intermediate' },
  { id: 'prices_008', polish: 'cena promocyjna', english: 'sale price', category: 'shopping', subcategory: 'prices', difficulty: 'intermediate' },
  { id: 'prices_009', polish: 'oszczędność', english: 'savings', category: 'shopping', subcategory: 'prices', difficulty: 'intermediate' },
  { id: 'prices_010', polish: 'złoty', english: 'zloty', category: 'shopping', subcategory: 'prices', difficulty: 'beginner' },

  // PARAGONY I ZWROTY (Receipts & Returns)
  { id: 'receipts_001', polish: 'faktura', english: 'invoice', category: 'shopping', subcategory: 'receipts', difficulty: 'intermediate' },
  { id: 'receipts_002', polish: 'gwarancja', english: 'warranty', category: 'shopping', subcategory: 'receipts', difficulty: 'intermediate' },
  { id: 'receipts_003', polish: 'reklamacja', english: 'complaint', category: 'shopping', subcategory: 'receipts', difficulty: 'intermediate' },
  { id: 'receipts_004', polish: 'zwrot pieniędzy', english: 'refund', category: 'shopping', subcategory: 'receipts', difficulty: 'intermediate' },
  { id: 'receipts_005', polish: 'wymiana towaru', english: 'product exchange', category: 'shopping', subcategory: 'receipts', difficulty: 'intermediate' },
  { id: 'receipts_006', polish: 'termin zwrotu', english: 'return deadline', category: 'shopping', subcategory: 'receipts', difficulty: 'intermediate' },
];

export async function seedShoppingVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing shopping vocabulary IDs
    const existingShopping = await db.vocabulary.where('category').equals('shopping').toArray();
    const existingIds = new Set(existingShopping.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = shoppingVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new shopping words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('shopping').count();
    await db.categories.update('shopping', { totalWords: totalCount });
    console.log(`✅ Shopping vocabulary: ${totalCount} total words (${shoppingVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingShopping = await db.vocabulary.where('category').equals('shopping').toArray();
      const existingIds = new Set(existingShopping.map(w => w.id));
      const newWords = shoppingVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining shopping words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('shopping').count();
      await db.categories.update('shopping', { totalWords: totalCount });
      console.log(`✅ Shopping vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding shopping vocabulary:', error);
    return false;
  }
}
