import { VocabularyWord } from '@/types';

export const referenceVocabulary: VocabularyWord[] = [
  // CZAS (Time)
  { id: 'time_001', polish: 'sekunda', spanish: 'second', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_002', polish: 'minuta', spanish: 'minute', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_003', polish: 'godzina', spanish: 'hour', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_004', polish: 'dzień', spanish: 'day', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_005', polish: 'tydzień', spanish: 'week', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_006', polish: 'miesiąc', spanish: 'month', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_007', polish: 'rok', spanish: 'year', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_008', polish: 'rano', spanish: 'morning', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_009', polish: 'południe', spanish: 'noon', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_010', polish: 'popołudnie', spanish: 'afternoon', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_011', polish: 'wieczór', spanish: 'evening', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_012', polish: 'noc', spanish: 'night', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_013', polish: 'północ', spanish: 'midnight', category: 'reference', subcategory: 'time', difficulty: 'intermediate' },
  { id: 'time_014', polish: 'wczoraj', spanish: 'yesterday', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_015', polish: 'dziś', spanish: 'today', category: 'reference', subcategory: 'time', difficulty: 'beginner' },
  { id: 'time_016', polish: 'jutro', spanish: 'tomorrow', category: 'reference', subcategory: 'time', difficulty: 'beginner' },

  // KALENDARZ (Calendar)
  { id: 'calendar_001', polish: 'poniedziałek', spanish: 'Monday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_002', polish: 'wtorek', spanish: 'Tuesday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_003', polish: 'środa', spanish: 'Wednesday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_004', polish: 'czwartek', spanish: 'Thursday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_005', polish: 'piątek', spanish: 'Friday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_006', polish: 'sobota', spanish: 'Saturday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_007', polish: 'niedziela', spanish: 'Sunday', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_008', polish: 'styczeń', spanish: 'January', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_009', polish: 'luty', spanish: 'February', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_010', polish: 'marzec', spanish: 'March', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_011', polish: 'kwiecień', spanish: 'April', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_012', polish: 'maj', spanish: 'May', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_013', polish: 'czerwiec', spanish: 'June', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_014', polish: 'lipiec', spanish: 'July', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_015', polish: 'sierpień', spanish: 'August', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_016', polish: 'wrzesień', spanish: 'September', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_017', polish: 'październik', spanish: 'October', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_018', polish: 'listopad', spanish: 'November', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },
  { id: 'calendar_019', polish: 'grudzień', spanish: 'December', category: 'reference', subcategory: 'calendar', difficulty: 'beginner' },

  // LICZBY (Numbers)
  { id: 'numbers_001', polish: 'zero', spanish: 'zero', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_002', polish: 'jeden', spanish: 'one', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_003', polish: 'dwa', spanish: 'two', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_004', polish: 'trzy', spanish: 'three', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_005', polish: 'cztery', spanish: 'four', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_006', polish: 'pięć', spanish: 'five', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_007', polish: 'sześć', spanish: 'six', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_008', polish: 'siedem', spanish: 'seven', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_009', polish: 'osiem', spanish: 'eight', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_010', polish: 'dziewięć', spanish: 'nine', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_011', polish: 'dziesięć', spanish: 'ten', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_012', polish: 'dwadzieścia', spanish: 'twenty', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_013', polish: 'trzydzieści', spanish: 'thirty', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },
  { id: 'numbers_014', polish: 'sto', spanish: 'hundred', category: 'reference', subcategory: 'numbers', difficulty: 'beginner' },
  { id: 'numbers_015', polish: 'tysiąc', spanish: 'thousand', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },
  { id: 'numbers_016', polish: 'milion', spanish: 'million', category: 'reference', subcategory: 'numbers', difficulty: 'intermediate' },

  // KOLORY (Colors)
  { id: 'colors_001', polish: 'kolor', spanish: 'color', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_002', polish: 'czerwony', spanish: 'red', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_003', polish: 'niebieski', spanish: 'blue', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_004', polish: 'żółty', spanish: 'yellow', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_005', polish: 'zielony', spanish: 'green', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_006', polish: 'pomarańczowy', spanish: 'orange', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_007', polish: 'fioletowy', spanish: 'purple', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_008', polish: 'różowy', spanish: 'pink', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_009', polish: 'brązowy', spanish: 'brown', category: 'reference', subcategory: 'colors', difficulty: 'intermediate' },
  { id: 'colors_010', polish: 'czarny', spanish: 'black', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_011', polish: 'biały', spanish: 'white', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },
  { id: 'colors_012', polish: 'szary', spanish: 'gray', category: 'reference', subcategory: 'colors', difficulty: 'beginner' },

  // PRZYDATNE ZWROTY (Useful Phrases)
  { id: 'phrases_001', polish: 'dziękuję', spanish: 'thank you', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_002', polish: 'proszę', spanish: 'please', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_003', polish: 'przepraszam', spanish: 'excuse me', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_004', polish: 'tak', spanish: 'yes', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_005', polish: 'nie', spanish: 'no', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_006', polish: 'dzień dobry', spanish: 'good morning', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_007', polish: 'dobry wieczór', spanish: 'good evening', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_008', polish: 'dobranoc', spanish: 'good night', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_009', polish: 'do widzenia', spanish: 'goodbye', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_010', polish: 'cześć', spanish: 'hi', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_011', polish: 'jak się masz', spanish: 'how are you', category: 'reference', subcategory: 'phrases', difficulty: 'beginner' },
  { id: 'phrases_012', polish: 'ile to kosztuje', spanish: 'how much is this', category: 'reference', subcategory: 'phrases', difficulty: 'intermediate' },
];

export async function seedReferenceVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing reference vocabulary IDs
    const existingReference = await db.vocabulary.where('category').equals('reference').toArray();
    const existingIds = new Set(existingReference.map(w => w.id));
    
    // Filter out words that already exist
    const newWords = referenceVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new reference words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('reference').count();
    await db.categories.update('reference', { totalWords: totalCount });
    console.log(`✅ Reference vocabulary: ${totalCount} total words (${referenceVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingReference = await db.vocabulary.where('category').equals('reference').toArray();
      const existingIds = new Set(existingReference.map(w => w.id));
      const newWords = referenceVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining reference words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('reference').count();
      await db.categories.update('reference', { totalWords: totalCount });
      console.log(`✅ Reference vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding reference vocabulary:', error);
    return false;
  }
}
